<form class="flexcol">
    <nav class="tabs" data-group="primary">
        <a class="item" data-tab="overview"><i class="fas fa-globe"></i> World Overview</a>
        <a class="item" data-tab="factions"><i class="fas fa-users"></i> Factions</a>
        <a class="item" data-tab="npcs"><i class="fas fa-user"></i> NPCs</a>
        <a class="item" data-tab="plots"><i class="fas fa-book-open"></i> Plots</a>
        <a class="item" data-tab="locations"><i class="fas fa-map-marker-alt"></i> Locations</a>
        <a class="item" data-tab="ai-settings"><i class="fas fa-robot"></i> AI Settings</a>
    </nav>

    <section class="content">
        <div class="tab" data-tab="overview" data-group="primary">
            <p class="notes">Describe the general overview of your campaign world, its major themes, and any crucial background information.</p>
            <textarea name="overview" rows="20">{{overview}}</textarea>
        </div>
        
        <div class="tab" data-tab="factions" data-group="primary">
            <p class="notes">Detail the major organizations, factions, and groups that play important roles in your world.</p>
            <textarea name="factions" rows="20">{{factions}}</textarea>
        </div>

        <div class="tab" data-tab="npcs" data-group="primary">
            <p class="notes">List and describe important NPCs, their relationships, and their roles in the world.</p>
            <textarea name="npcs" rows="20">{{npcs}}</textarea>
        </div>

        <div class="tab" data-tab="plots" data-group="primary">
            <p class="notes">Outline current story arcs, plot points, and ongoing events in your campaign.</p>
            <textarea name="plots" rows="20">{{plots}}</textarea>
        </div>

        <div class="tab" data-tab="locations" data-group="primary">
            <p class="notes">Describe important locations, cities, dungeons, and other places of interest.</p>
            <textarea name="locations" rows="20">{{locations}}</textarea>
        </div>

        <div class="tab" data-tab="ai-settings" data-group="primary">
            <h3 class="form-header">AI Service Configuration</h3>
            <div class="form-group">
                <label>AI Model Provider</label>
                <div class="form-fields">
                    <select name="model-provider">
                        <option value="openai" {{#if isOpenAI}}selected{{/if}}>OpenAI (GPT)</option>
                        <option value="claude" {{#if isClaude}}selected{{/if}}>Anthropic (Claude)</option>
                    </select>
                </div>
                <p class="notes">Select which AI model provider to use for generating content.</p>
            </div>
            
            <div class="form-group api-key-group" data-provider="openai">
                <label>OpenAI API Key</label>
                <div class="form-fields">
                    <input type="password" name="openai-api-key" value="{{openaiKey}}" />
                </div>
                <p class="notes">Your OpenAI API key. Keep this private and do not share it.</p>
            </div>
            
            <div class="form-group api-key-group" data-provider="claude">
                <label>Anthropic API Key</label>
                <div class="form-fields">
                    <input type="password" name="anthropic-api-key" value="{{anthropicKey}}" />
                </div>
                <p class="notes">Your Anthropic API key for Claude models. Keep this private and do not share it.</p>
            </div>
            
            <div class="form-group">
                <label>Response Length (Tokens)</label>
                <div class="form-fields">
                    <input type="range" name="max-tokens" value="{{maxTokens}}" min="100" max="2000" step="100" />
                    <span class="range-value">{{maxTokens}}</span>
                </div>
                <p class="notes">Maximum length of AI responses in tokens (100-2000).</p>
            </div>
            
            <div class="form-group">
                <label>Creativity Level</label>
                <div class="form-fields">
                    <input type="range" name="default-creativity" value="{{creativity}}" min="0" max="100" step="5" />
                    <span class="range-value">{{creativity}}</span>
                </div>
                <p class="notes">Adjust creativity level of AI responses (0-100).</p>
            </div>
        </div>
    </section>

    <footer class="sheet-footer flexrow">
        <button type="submit" name="submit">
            <i class="far fa-save"></i> Save Configuration
        </button>
        <button type="button" class="preview-context">
            <i class="fas fa-eye"></i> Preview Full Context
        </button>
    </footer>
</form>